schema: '2.0'
stages:
  ingest:
    cmd: python pipelines/ingest.py --src data/raw_docs --out data/clean_docs
    deps:
    - path: data/raw_docs
      hash: md5
      md5: b90aeed8430da0392ebd0d4ed2834b38.dir
      size: 21087
      nfiles: 6
    - path: pipelines/ingest.py
      hash: md5
      md5: 3a05e523eab159344ea7edaef9e9c1d8
      size: 814
    outs:
    - path: data/clean_docs
      hash: md5
      md5: 2142a6382334e846bf4b89dd94d28d13.dir
      size: 28971
      nfiles: 76
  embed:
    cmd: python pipelines/embed.py --inp data/clean_docs --out 
      data/embeddings.parquet
    deps:
    - path: data/clean_docs
      hash: md5
      md5: 2142a6382334e846bf4b89dd94d28d13.dir
      size: 28971
      nfiles: 76
    - path: pipelines/embed.py
      hash: md5
      md5: fdbda0e02101d71e5c4d26bc24ceb329
      size: 650
    outs:
    - path: data/embeddings.parquet
      hash: md5
      md5: aed9a7d255a1c16cda26bcfdcd8ec9f6
      size: 248503
  eval:
    cmd: python pipelines/eval.py --q data/eval/questions.jsonl --out 
      metrics.json
    deps:
    - path: data/embeddings.parquet
      hash: md5
      md5: aed9a7d255a1c16cda26bcfdcd8ec9f6
      size: 248503
    - path: data/eval/questions.jsonl
      hash: md5
      md5: c47c8b507de64001e95f04c7629cb1cf
      size: 233
    - path: pipelines/eval.py
      hash: md5
      md5: 060a13e4f53bb4fe64a3252d23d53182
      size: 2544
    outs:
    - path: metrics.json
      hash: md5
      md5: 230d5a7ab93ae3fdd183f54dc3edd64a
      size: 24
  index:
    cmd: python pipelines/index.py --emb data/embeddings.parquet
    deps:
    - path: data/embeddings.parquet
      hash: md5
      md5: aed9a7d255a1c16cda26bcfdcd8ec9f6
      size: 248503
    - path: pipelines/index.py
      hash: md5
      md5: 19559ba688c80c235860ac273df8ec66
      size: 1048
